document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("contentWarningModal"),t=document.getElementById("exitButton"),n=document.getElementById("returnToGoogleButton");sessionStorage.getItem("contentWarningShown")||e.classList.add("active"),t.addEventListener("click",()=>{e.classList.remove("active"),sessionStorage.setItem("contentWarningShown","true")}),n.addEventListener("click",()=>{window.location.href="https://www.google.com"})}),document.addEventListener("DOMContentLoaded",()=>{const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("visible")})},{threshold:.2,rootMargin:"0px 0px -100px 0px"});document.querySelectorAll(".text-content, .image-container, .grid-item, .full-width-content h2, .finale h2").forEach(t=>e.observe(t))}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".parallax-image");window.addEventListener("scroll",()=>{e.forEach(e=>{const t=e.getBoundingClientRect(),n=window.innerHeight;if(t.top<n&&t.bottom>0){const o=50*((n-t.top)/(n+t.height)-.5);e.style.transform=`translateY(${o}px)`}})},{passive:!0})}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");if(t&&"#"!==t){if("#chapters"===t){const t=document.getElementById("chaptersPanel");return void(t&&(e.preventDefault(),t.classList.add("open"),t.setAttribute("aria-hidden","false")))}try{const n=document.querySelector(t);n&&(e.preventDefault(),n.scrollIntoView({behavior:"smooth"}))}catch(e){}}})}),function(){const e=document.querySelector(".hero__glow");if(!e)return;const t=["rgba(255,220,200,0.9)","rgba(255,200,170,0.8)","rgba(255,240,230,0.6)"];for(let n=0;n<25;n++){const n=document.createElement("span");n.className="hero-particle";const o=10*Math.random()+4;n.style.width=`${o}px`,n.style.height=`${o}px`,n.style.left=100*Math.random()+"%",n.style.bottom=20*-Math.random()+"px",n.style.background=t[Math.floor(Math.random()*t.length)],n.style.opacity=(.2+.6*Math.random()).toFixed(2);const a=12+18*Math.random(),r=-20*Math.random();n.style.animation=`rise ${a}s linear ${r}s infinite, floatX ${5+5*Math.random()}s ease-in-out ${r}s infinite alternate`,e.appendChild(n)}}(),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("chaptersToggle"),t=document.getElementById("chaptersPanel"),n=document.getElementById("chaptersClose");function o(){t.classList.remove("open"),t.setAttribute("aria-hidden","true")}e&&t&&(e.addEventListener("click",e=>{e.preventDefault(),t.classList.contains("open")?o():(t.classList.add("open"),t.setAttribute("aria-hidden","false"))}),n&&n.addEventListener("click",o),t.addEventListener("click",e=>{e.target===t&&o()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&o()}),t.querySelectorAll("[data-chapter]").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const n=Number(e.getAttribute("data-chapter"))-1,a=document.querySelectorAll(".chapter-divider");a&&a[n]&&a[n].scrollIntoView({behavior:"smooth"}),o()})}))}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".falling-hearts-container");e&&setInterval(function(){const t=document.createElement("div");t.classList.add("heart"),t.textContent="â¤",t.style.left=100*Math.random()+"vw",t.style.animationDuration=3+3*Math.random()+"s",t.style.fontSize=1.5*Math.random()+1+"rem",e.appendChild(t),setTimeout(()=>t.remove(),6e3)},300)});